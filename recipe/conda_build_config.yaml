MACOSX_SDK_VERSION:         # [osx]
  - 12.3                    # [osx]

# # This works around a bug with more severe compiler warnings
# # in clang 14. This should be addressed in pytorch newer than 1.12.1
# c_compiler_version:         # [osx and x86_64]
#   - 13                      # [osx and x86_64]
# cxx_compiler_version:       # [osx and x86_64]
#   - 13                      # [osx and x86_64]

# This works around a bug with more severe compiler warnings
# in clang 14. This should be addressed in pytorch newer than 1.12.1
c_compiler_version:         # [linux]
  - 11                      # [linux]
  - 10                      # [os.environ.get("CF_CUDA_ENABLED", "False") == "True" and linux64]
cxx_compiler_version:       # [linux]
  - 11                      # [linux]
  - 10                      # [os.environ.get("CF_CUDA_ENABLED", "False") == "True" and linux64]

cuda_compiler:
  - None
  - nvcc                       # [(linux64 or win64) and os.environ.get("CF_CUDA_ENABLED", "False") == "True"]
cuda_compiler_version:
  - None
  - 11.2                       # [(linux64 or win64) and os.environ.get("CF_CUDA_ENABLED", "False") == "True"]
cuda_compiler_version_min:
  - None
  - 11.2                       # [linux or win64]

cdt_name:  # [linux]
  - cos7   # [linux64]
  - cos7   # [os.environ.get("CF_CUDA_ENABLED", "False") == "True" and linux64]
  - cos7   # [linux and aarch64]
  - cos7   # [linux and ppc64le]
  - cos7   # [linux and armv7l]
  - cos7   # [linux and s390x]

docker_image:                                   # [os.environ.get("BUILD_PLATFORM", "").startswith("linux-")]
  - quay.io/condaforge/linux-anvil-cos7-x86_64  # [os.environ.get("BUILD_PLATFORM") == "linux-64"]
  - quay.io/condaforge/linux-anvil-aarch64      # [os.environ.get("BUILD_PLATFORM") == "linux-aarch64"]
  - quay.io/condaforge/linux-anvil-ppc64le      # [os.environ.get("BUILD_PLATFORM") == "linux-ppc64le"]
  - quay.io/condaforge/linux-anvil-armv7l       # [os.environ.get("BUILD_PLATFORM") == "linux-armv7l"]

  - quay.io/condaforge/linux-anvil-cuda:11.2       # [linux64 and os.environ.get("CF_CUDA_ENABLED", "False") == "True" and os.environ.get("BUILD_PLATFORM") == "linux-64"]


fortran_compiler_version:      # [linux]
  - 11                         # [linux]
  - 10                         # [os.environ.get("CF_CUDA_ENABLED", "False") == "True" and linux64]

blas_impl:
  - mkl                        # [x86 or x86_64]
  - openblas                   # [not win]
